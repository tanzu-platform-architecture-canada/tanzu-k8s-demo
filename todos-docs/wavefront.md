# Wavefront - Enterprise-scale Observability in Kubernetes as a Service

You can send data from your Spring Boot applications into Wavefront using Micrometer with Spring Boot or Wavefront for Spring Boot:

* Micrometer

Wavefront supported a Micrometer integration for several years. Starting with Spring Boot 2, Micrometer is the instrumentation library powering the delivery of application metrics from Spring. This custom integration allows you to send your own metrics to Wavefront and visualize them in custom dashboards and charts. The integration uses the [Wavefront Reporter for Micrometer](https://github.com/micrometer-metrics/micrometer).

* Wavefront for Spring Boot

Wavefront made the Wavefront for Spring Boot starter available recently. If you configure your application with the Wavefront for Spring Boot starter, you can send metrics, histograms, and traces/spans to the Wavefront service. Once the data is in Wavefront, you can view your data, find hotspots, and gather more data.

## Features
If you use Wavefront for Spring Boot:

* A large number of metrics are exposed by default. See the Spring Boot documentation on Supported Metrics for details.
* You have tracing support for all the common Spring Boot components, such as Spring MVC, Spring Web, Spring Async, Feign, Hysterix, JMS, JDBC, Mongo, Zuul, Reactor, RxJava, Redis, Logging, Spring Messaging, and RabbitMQ.
* The spans in your applications are automatically converted to the Wavefront span format.
* You can use Spring Cloud Sleuth or OpenTracing to send trace data.
* If you are using OpenTracing, the logs generated by the logger in your application are automatically converted to span logs, and you can view the span logs in Wavefront Tracing Browser. You donâ€™t need to change your code.

## Enable Observability in a SpringBoot service 

Minimal configuration
1. Wire Wavefront starter and Sleuth/OpenTracing to enable distributed tracing
2. Provision naming for the application and Wavefront project
3. Configure a dashboard for your project

Customization
4. Configure information to be traced

## Wire Wavefront starter and Sleuth/OpenTracing to enable distributed tracing
#### Spring Boot version to use

The initial version uses Spring Boot v2.3.0 RC1 and up
```xml
<!-- pom.xml -->
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>2.3.0.RC1</version>
        <relativePath/> <!-- lookup parent from repository -->
    </parent>
```

#### Wavefront starter version to use
The Wavefront starter package to be used is 2.0.0-RC1 and up.

Trace data can be sent to Wavefront using Spring Cloud Sleuth or OpenTracing
```xml
<!-- pom.xml -->
<!-- Spring Cloud Sleuth -->
<dependency>
  <groupId>org.springframework.cloud</groupId>
  <artifactId>spring-cloud-starter-sleuth</artifactId>
  <version>2.2.2.RELEASE</version>
</dependency>

<!-- OpenTracing -->
<dependency>
  <groupId>io.opentracing.contrib</groupId>
  <artifactId>opentracing-spring-cloud-starter</artifactId>
  <version>0.5.3</version>
</dependency>
```

## Provision naming for the application and Wavefront project
```conf
management.endpoints.web.exposure.include=*
management.metrics.export.wavefront.api-token=47f40729-ebd4-4e0b-98a0-b5e040aee5ec
management.metrics.export.wavefront.uri=https://wavefront.surf

spring.application.name=todos-api
wavefront.application.name=wavefront-todos-api
```

